<!-- src/app/features/visits/visits.component.html -->
<mat-card class="visits-card">
  <div class="header">
    <div class="title-wrap">
      <mat-icon class="mr-8">history</mat-icon>
      <div>
        <h2 class="title">Registos de Visitas</h2>
        <div class="subtitle">Total de {{ total }} visitas encontradas</div>
      </div>
    </div>

    <app-export
      [disabled]="!dataSource?.data?.length"
      (pdf)="exportPDF()"
      (csv)="exportCSV()">
    </app-export>
  </div>

  <!-- Filtros -->
  <app-filters
    [form]="form"
    [departments]="departments"
    (clear)="clearFilters()">
  </app-filters>

  <!-- Tabela -->
  <app-table
    [dataSource]="dataSource"
    [displayed]="displayed">
  </app-table>

  <!-- Paginação (opcional: caso uses server-side, escuta (page)) -->
  <app-pagination
    [length]="total"
    [pageSize]="10"
    [pageSizeOptions]="[5,10,20]"
    (page)="onPage($event)">
  </app-pagination>
</mat-card>
